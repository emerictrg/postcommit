# Justfile for frontend development (moved to project root)

# Latest Node.js Docker image version
NODE_IMAGE := "postcommit-web"
CURRENT_DIR := `pwd`

dev:
    # Start the Vite development server
    docker run -it --rm -v {{CURRENT_DIR}}:/app -w /app -p 5173:5173 -u node {{NODE_IMAGE}} npm run dev

build:
    # Build the frontend for production
    docker run -it --rm -v {{CURRENT_DIR}}:/app -w /app -u node {{NODE_IMAGE}} npm run build

preview:
    # Preview the production build locally
    docker run -it --rm -v {{CURRENT_DIR}}:/app -w /app -u node {{NODE_IMAGE}} npm run preview

install:
    # Install dependencies
    docker run -it --rm -v {{CURRENT_DIR}}:/app -w /app -u node {{NODE_IMAGE}} npm install

